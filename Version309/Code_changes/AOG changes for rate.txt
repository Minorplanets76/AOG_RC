
- changes to AgOpenGPS for rate control
- line #'s are approximate

1. AgOpenGPS Properties.Settings.Default
	- FormRClocation	System.Drawing.Point
 
2. copy the following files to the SourceCode/GPS/Forms folder:
	FormRateControl.cs
	FormRateControl.Designer.cs
	FormRateSetting.cs
	FormRateSettings.Designer.cs
	FormRateControl.resx
	FormRateSettings.resx

3. right click on the Forms folder in the AgOpenGPS Solution explorer. Click Add/Existing Item. Add only FormRateControl.cs and FormRateSetting.cs . The other files will follow.

4. copy the following files to the SourceCode/GPS/Classes folder:
	CAveraging.cs
	CRateCals.cs

5. right click on the Classes folder in the AgOpenGPS Solution explorer. Click Add/Existing Item. Add the two classes.

6. FormGPS.cs line 230 (in region Class Props and instances)
        // rate control
        public CRateCals RC;
        public Forms.FormRateControl FRC;


7. FormGPS.cs  line 386 (under winform initialization)
            // rate control
            RC = new CRateCals(this);

8. FormGPS.cs  line 643 (at the end of the sub FormGPS_FormClosing)
            RC.SaveSettings();

9. FormGPS.cs[Design] - add button to statusStripLeft


10. FormGPS.cs line 956
        private void toolStripSplitButton1_ButtonClick(object sender, EventArgs e)
        {
            foreach (Form f in Application.OpenForms)
            {
                if (f is Forms.FormRateControl)
                {
                    f.WindowState = FormWindowState.Normal;
                    f.Focus();
                    return;
                }
            }
            FRC = new AgOpenGPS.Forms.FormRateControl(this);
            this.AddOwnedForm(FRC);
            FRC.Show();
        }

11. change manual section buttons modifiers on FormGPS from private to Public


12. SerialComm.Designer.cs

 line 311
        public void BuildRelayByte()   (change to public from private)


13. SerialComm.Designer.cs
	In sub "private void SerialLineReceivedRelay(string sentence)"

 line 393
            // send to rate controller
            RC.CommFromArduino(sentence);

14. GUI.Designer.cs line 3483	(before end of 1 second update)
                    // rate control
                    RC.Update();

15. UDPComm.Designer.cs  line 19
	public bool isUDPSendConnected;   (change to public from private)


16. UDPComm.Designer.cs 
	In sub "private void UpdateRecvMessage(int port, byte[] data)"

 line 222
                // rate control
                case 6100:
                    {
                        RC.UDPcommFromArduino(data);
                        break;
                    }

17. Right click on AgOpenGPS and add a folder PGNs.


18. Copy the files PGN31100.cs, PGN31200.cs, PGN31300.cs and PGN31400.cs to the PGNs folder.


19. Right click on the PGNs folder in the AgOpenGPS Solution explorer. Click Add/Existing Item. Add the four classes.





